<!DOCTYPE html>
<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.6.1/socket.io.min.js" integrity="sha512-AI5A3zIoeRSEEX9z3Vyir8NqSMC1pY7r5h2cE+9J6FLsoEmSSGLFaqMQw8SWvoONXogkfFrkQiJfLeHLz3+HOg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    </head>
    <body>

        <input type="text" class="message" />
        <button onclick="sendMessage()">Send Message</button>
        <h1>MESSAGE WILL APEAR HERE !!</h1>

        <script>
            const socket = io('http://localhost:3001')

            socket.on('connection',() => {
                console.log("Connected to server")
            })

            socket.on('message',(data) => {
                console.log("Received Message");
                document.querySelector('h1').innerHTML = data;
            })

            const sendMessage = () => {
                const messageInput = document.querySelector('.message');
                const message = messageInput.value;
                socket.emit('message',message);
            }
        </script>

    </body>
</html>